{{- define "partials/nav-links.html" }}
    {{- $currentPage := . }}
    {{- range .Site.Menus.main }}
        <li{{ if or ($currentPage.HasMenuCurrent "main" .) ($currentPage.IsMenuCurrent "main" .)  }} class="uk-active"{{ end }}><a href="{{ .URL }}">{{ .Name }}</a></li>
    {{- end }}
{{- end }}

<div id="offcanvas-navigation" uk-offcanvas="flip: true; mode: reveal">
    <nav class="uk-offcanvas-bar uk-padding-large" aria-label="Main">
        <button class="uk-offcanvas-close" type="button" uk-close></button>
        <ul class="uk-nav uk-nav-primary uk-margin-large-top">
            {{- partial "nav-links.html" . }}
        </ul>
    </nav>
</div>

<div uk-sticky="start: 10; animation: uk-animation-fade; sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky uk-light; cls-inactive: uk-navbar-transparent">
    <nav class="uk-navbar uk-navbar-container" uk-navbar aria-label="Main">
        <div class="uk-navbar-left">
            <a class="uk-navbar-item uk-logo" href="{{ .Site.BaseURL }}">
                <img src="{{ .Site.BaseURL }}assets/img/keepassxc-logo.svg" alt="">
                <span>KeePassXC</span>
            </a>
        </div>
        <div class="uk-navbar-right">
            <ul class="uk-navbar-nav uk-visible@l">
                {{- partial "nav-links.html" . }}
            </ul>

            <button class="uk-navbar-toggle uk-hidden@l" uk-navbar-toggle-icon uk-toggle="target: #offcanvas-navigation" type="button"></button>
        </div>
        {{ partial "corner.html" . }}
    </nav>
</div>
